'use strict'

import PropTypes from 'prop-types';
import React, { Fragment } from 'react'

import {
    NativeModules,
    requireNativeComponent,
    UIManager,
    View,
    FlatList
} from 'react-native'

import ScrollView from './private/ScrollView.js'
import ViewRef from './ViewRef.js'

export default class ListRef extends React.Component {
    _renderScrollComponent = (props) => {
        return (
            <ScrollView
                {...props}
            />
        )
    }

    render() {
        const {onTimelinesLoaded} = this.props
        return (
            <Fragment>
                <FlatList
                    renderScrollComponent={this._renderScrollComponent}
                    scrollEnabled={true}
                    {...this.props}
                    onTimelinesLoaded={() => {}}
                />
                <ViewRef
                    name={this.props.name}
                    onTimelinesLoaded={onTimelinesLoaded || (() => {})}
                >
                    {this.props.children}
                </ViewRef>
            </Fragment>
        )
    }
}
